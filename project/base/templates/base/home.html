{% extends 'main.html' %}

{% block content %}


<style>
    .home-container {
        display: grid;
        grid-template-columns: 4fr 1fr;
    }
</style>


<div class="home-container">

  <div>
      <div>
        <h3>Browse Items</h3>
        <form method="GET" action="{% url 'home' %}">
        <input type="text" name="q" placeholder="Search Auctions..."/>
        </form>
        <hr>
      </div>
    <h2>There are {{auction_count}} auctions available</h2>
    <hr>
    <body>
  <div class="container">
    <div class="auction-grid">
      {% for auction in auctions %}
        {% if forloop.counter0|divisibleby:4 %}
          <div class="auction-column">
        {% endif %}
        <div class="auction-card">
          <a href="{% url 'auction' auction.id %}"><h2>{{ auction.product.name }} </h2> </a>
          <p>Buying Price: <span class="price">{{ auction.current_price }}</span></p>
          <p>Bid Duration: {{ auction.bid_duration }} Seconds</p>
          <p>Last Bidder: {% if auction.last_bidder %}{{ auction.last_bidder.username }}{% else %}None{% endif %}</p>
          <!-- Add more details or customizations here -->
        </div>
        {% if forloop.counter|divisibleby:4 or forloop.last %}
          </div>
        {% endif %}
        <hr>

      {% endfor %}
      {% if not auctions %}
        <p>No auctions available.</p>
      {% endif %}
    </div>
  </div>
</body>
  </div>
  <div>
     <h2>Recent Wins</h2>
      {% for deal in won_deals%}
      <div>
        <small>@{{deal.user}} {{deal.date_modified|timesince}}</small>
        <p>has won: {{deal.product.name}}</p>
        <p>at price: {{deal.transaction.price}}</p>
        <hr>
      </div>

      {% endfor%}
  </div>



</div>
{% endblock content %}


